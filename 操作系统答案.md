## 														**操作系统答案**

### **第二章**

**11、试说明进程在三个基本状态之间转换的的典型原因**

- 就绪、执行、阻塞
- I/O，调度，时间片



**16、再创建一个进程时所要完成的主要工作是什么？**

- 申请空白PCB
- 为新进程分配其运行所需要的资源，包括各种物理和逻辑资源
- 初始化进程控制块（PCB）
- 如果进程就绪队列能够接纳就绪队列，便将进程插入就绪队列



**18、试说明引起进程阻塞或被唤醒的主要事件是什么？**

- 向系统请求共享资源失败。此时因进程不能继续运行而转变为阻塞状态。

- 等待某种操作的完成。当进程启动某种操作后，如果该进程必须在某种操作完成之后才能继续执行，则应先将该进程阻塞起来，以等待操作完成。

- 新数据尚未到达。对于相互合作的进程，如果一个进程需先获取另一进程提供的数据后才能对该进程进行处理，只要所需数据尚未到达，进程便只有阻塞。

- 等待新任务的到达。在某些系统中，特别是在网络环境下的OS，往往设定一些特定的系统进程，每当这种进程完成任务后便将自己阻塞起来，等待新任务的到来。

  

**23、何谓用户级线程和内核支持线程**

- 内核支持线程在内核支持下运行的，他们的创建、阻塞、撤销和切换等，也都是在内核空间实现的。
- 用户级线程实在用户空间实现的。对线程的创建、撤销、同步与通信等功能，都无需内核的支持，即用户级线程是与内核无关的。



### **第三章**

**1、高级调度与低级调度的主要任务是什么？为什么要引入中级调度？**

- 高级调度的调度对象是作业。高级调度的主要任务是根据某种算法，把外存上处于后备队列中的那些作业调入内存。

- 低级调度的调度对象是进程（或内核级线程）。低级调度是保存处理机的现场信息，按某种算法先取进程，再把处理器分配给进程。

- 中级调度又称内存调度，要引入中级调度的主要目的是，提高内存利用率和系统吞吐量。

  

**5、在作业调度中，应如何确定接纳多少个作业和接纳哪些作业？**

- 作业调度每次接纳进入内存的作业书，取决于多道程序段。

- 应将哪些作业从外村调入内存，取决于采用的调度算法。最简单的是先来先服务调度算法，较常用的是短作业优先调度算法和基于作业优先级的调度算法。

  

**20、按调度方式可将实时调度算法分为哪几种？**

- 按调度方式不同，可分为非抢占调度算法和抢占调度算法两种。

  

**27、何谓死锁？产生死锁的原因和必要条件是什么？**

- 死锁是指多个进程因竞争资源而造成的一种僵局，若无外力作用，这些进程将永远都无法向前推进。
- 必要条件：

	1. 互斥条件
	2. 请求和保持条件
	3. 不可抢占条件
	4. 循环等待条件



### **第四章**

**8、什么是基于顺序搜索的动态分区分配算法？它可分为哪几种？**

- 为了实现动态分区分配，将系统中的空闲分区表或空闲分区链。

- 所谓顺序搜索，是指按表或链的组织顺序检索表或脸上记录的空闲分区，去寻找一个最符合算法的、大小能满足要求的分区。分区储存管理常采用的策略有：首次适应算法、循环首次适应算法、最佳适应算法、虽坏适应算法。

  

**11、令buddyK(x)表示大小为2的k次方、地址为x的块的伙伴系统地址，试写出buddyK（x)通用表达式？**

- 页表是分页式存储管理使用的数据结构。一个进程分为多少页，他的页表就有多少行。每一行记录进程的一页和它存放的物理块的页号、块号对应关系。

- 页表用于地址变换。

  

**21、在分页系统中是如何实现地址变换的？**

- 利用地址变换机构实现从逻辑地址到物理地址的地址变换，通过页表来实现从页号到物理块号的变换，将逻辑地址中的页号转换为内存中的物理块号。

  

**22、具有快表是如何实现地址变换的？**

![在这里插入图片描述](https://img-blog.csdnimg.cn/20191103153215588.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxMzc1MzE4,size_16,color_FFFFFF,t_70)

**24、在具有快表的段页式存储管理方式中，如何实现地址变换?**

- 在段页式系统中，为了便于实现地址变换，须配置一个段表寄存器，其中存放段表始址和段长TL。进行地址变换时，首先利用段号S，将它与段长TL进行比较。若S<TL，表示未越界，利用段表始址和段号来求出该段所对应的段表项在段表中的位置，从中得到该段的页表始址，并利用逻辑地址中的段内页号P来获得对应页的页表项位置，从中读出该页所在的物理块号b，再利用块号b和页内地址来构成物理地址。

- 在段页式系统中，为了获得一条指令或数据，须三次访问内存。第一次访问内存中的段表，从中取得页表始址；第二次访问内存中的页表，从中取出该页所在的物理块号，并将该块号与页内地址一起形成指令或数据的物理地址；第三次访问才是真正从第二次访问所得的地址中，取出指令或数据。

- 显然，这使访问内存的次数增加了近两倍。为了提高执行速度，在地址变换机构中增设一个高速缓冲寄存器。每次访问它时，都须同时利用段号和页号去检索高速缓存，若找到匹配的表项，便可从中得到相应页的物理块号，用来与页内地址一起形成物理地址；若未找到匹配表项，则仍须再三次访问内存。

  

### **第五章**

**8、试说明请求分页系统中地址变换过程**

![img](https://img-blog.csdnimg.cn/20200512105128779.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTU2MzE2MQ==,size_16,color_FFFFFF,t_70)



**13.在一个请求分页系统中，采用FIFO页面置换算法时，假如一个作业的页面走向为4、3、2、1、4、3、5、4、3、2、1、5，当分配给该作业的物理块数M分别为3和4时，试计算在访问过程中所发生的缺页次数和缺页率，并比较所得结果.**

　　　　![img](https://img2018.cnblogs.com/i-beta/1641874/201911/1641874-20191115094650414-167212614.png)

- M=3时，采用FIFO页面置换算法的缺页次数为9次，缺页率为75%；

- M=4时，采用FIFO页面置换算法的缺页次数为10次，缺页率为83%。

- 由此可见，增加分配给作业的内存块数，反而增加了缺页次数，提高了缺页率，这种现象被称为是Belady现象。

  

**18、什么是抖动? 产生抖动的原因是什么？**

- 抖动（Thrashing) 就是指当内存中已无空闲空间而又发生缺页中断时，需要从内存中调出一页程序或数据送磁盘的对换区中，如果算法不适当，刚被换出的页很快被访问，需重新调入，因此需再选一页调出，而此时被换出的页很快又要被访问，因而又需将它调入，如此频繁更换页面，使得系统把大部分时间用在了页面的调进换出上，而几乎不能完成任何有效的工作，我们称这种现象为"抖动"。 
- 产生抖动的原因是由于CPU的利用率和多道程序度的对立统一矛盾关系引起的，为了提高CPU利用率，可提高多道程序度，但单纯提高多道程序度又会造成缺页率的急剧上升，导致CPU的利用率下降，而系统的调度程序又会为了提高CPU利用率而继续提高多道程序度，形成恶性循环，我们称这时的进程是处于"抖动"状态。
- 同时在系统中运行的进程太多，由此分配给每一个进程的物理块太少，不能满足进程正常运行的基本要求，致使每个进程在运行时，频繁地出现缺页，必须请求系统将所缺之页调入内存。



**24、说明请求分段系统中的缺页中断处理过程。**
	请求分段系统中的缺页中断处理过程描述如下：
	根据当前执行指令中的逻辑地址查页表，判断该页是否在主存储器中
	该页标志为“0”形成缺页中断，中断装置通过交换PSW让操作系统的中断处理程序占用处理器。
	操作系统处理缺页中断处理的办法是查主存分配表找一个空闲的主存块，查页表找出该页在磁盘上位置，启动磁盘读出该页信				 息。
	把从磁盘上读出的信息装入找到的主存块中。
	当页面住处被装入主存后，应修改页表中对应的表目，填上该页所占用的主存块把标志置为“1”，表示该页已在主存储器中
	由于产生缺页中断时的那条指令并没执行完，所以在把页面装入之后应重新执行被中断指令。

				 请求分段系统中的缺页中断处理过程如下图所示：

　　![img](https://img2018.cnblogs.com/i-beta/1641874/201911/1641874-20191115095240458-245680898.png)

![img](https://img2018.cnblogs.com/i-beta/1641874/201911/1641874-20191115095316795-42471557.png)
